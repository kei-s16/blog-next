---
title: "2021年のふりかえり"
date: "2021-12-31T20:00:00"
tags: ["ふりかえり"]
category: "日記"
---

移植 : https://gist.github.com/kei-s16/b84ab3aa76c47d3adf84c540c3c39f98

---

## tl;dr
- バックエンドエンジニア（自称）からおおむねインフラエンジニアになりました
- 自宅開発環境を大進化させました

## 仕事
まず大きな変更についてです。  
去年はPHPでアプリを書いていましたが、今年の1月から異動になり、業務領域の軸足をインフラ（クラウド）側に移すことになりました。  
領域的には大移動ですが、異動が告知された段階である程度の基礎知識はあったので、かなり厳しい量のキャッチアップを強いられる、といったことはありませんでした。  
ある程度のぼやかしを加えてやったことを思い起こすと  

- 稼動しているwebサービスのインフラterraform化とAWSアカウント移行
- 新規インフラの構築複数
- メンテナが不在になってしまったサービスの現状把握複数

などをやっていました。  
その他にもAnsibleなどの管理ツールや社内アプリの細かな改修、サイトリニューアルのお手伝い、障害対応にも取り組みました。  
  
技術スタックとしては

- Terraform
- Ansible
  - Ansistrano
- GitHub Actions
- Docker
- AWS
  - VPC関連
  - ECS
  - CloudFormation

このあたりが身についたかなと思います。  
特に、AnsibleとDockerは自宅サーバの運用と相互にフィードバックできたのでうま味がありました。  

また、チーム移動に際して、以前のチームの文化をいくつか持ち込みました。  
そのなかでも週次ふりかえりは既存メンバーにも好評ですし、効果としても各々が感じていたぼんやりとした不安を目に見える課題として取り組めるようになるなど、それなりに機能させられているかなと思います。  
もちろん、まだまだ課題が残っている状態ではあるので、引き続き改善していきたいです。  

人周りについても、後輩が入ってきたりお世話になった方が退職されたりいろいろありました。  
後輩に関しては既にインフラ周りで追い抜かれつつあったりしているので~~背後から圧を感じつつ~~いい感じにモチベーション源になっています。  


## 個人
### k8s
入門しました。  
archlinux ARM on Raspberry Pi 4 * 4 でARMな感じのClusterを作成し、日々壊しつつ個人ツール群を運用しています。  
依存パッケージの変更で泣かされ、クラスタバージョンアップの実施で泣かされ、とわりと泣かされつつもk8sっぽいことはひと通りやってみて、手触りとしては悪くないな……という感じです。  
EKSやGKEなどのManagedな感じのk8sはまたちょっと勝手が違うようなのでそのうちそちらも触ってみたいなーと思っています。  

### proxmox
導入しました。  
が、退役させました。  
ESXiのような仮想化基盤が欲しいなーと思って組んでみたのですが、ちょっと帯に短し襷に長しな感じがしたためです（あと、Debianベースなのがつらかった）。  
とはいえ、作業用に使い捨てのarchをぽこぽこ生やせるのは体験としてとてもよかったので、どこかで再チャレンジしてみたいなーと思います。  
2台以上のクラスタ、分散ストレージの利用、Cloudinitの活用ができればたぶんもっといけるはず（やれてなかった）。  

### 自宅サーバ
すべてarchlinuxに統一しました。Ansibleすっきりさせられてよかった。  
が、なぜか台数が増えてきてしまったので、そろそろLDAPかなにかを導入せねば、という重すぎる課題が残ってしまいました。ガンバルゾー  
また、外からアクセスするためにtailscaleを使い始めました。こちらも便利なので、VPN利用を検討している方にはとりあえずおすすめしています。  

### 開発環境
~~Macが嫌いなので~~ Windowsでも開発できたら考えることが減るので、ということで、個人開発環境を下記に変えました。  

- archlinuxなLinuxデスクトップ
- Windows 11 --- scoop + msys2 + zsh

使い分けとしては、サクっとやるときはメインのWindows機で、がっつりやるときはそこから別マシンのLinuxへSSH or Linuxデスクトップで開発しています。  
Windowsが10からLinuxに寄せてきているのもあり、CUIの中では基本手触りが同じなので、へんな切り替えコストが減ってだいぶ楽になりました。  
ほぼ10年もののMBPもこれで退役です。  

### その他
Rustでなんか書いたり他人のツールリポジトリにコミットしたりしました。あとはだいたいシェル芸。  
それから、OSSの団体や開発者への寄付を始めました。いろいろと、これがないと困る！　というくらいには依存しているので、日頃の感謝を込めて。  

## 開発以外
- ミニ四駆始めました
- バイク買いました

